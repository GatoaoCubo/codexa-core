{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "version": "1.0",
  "description": "Compliance rules and copywriting restrictions for CodeXAnuncio",

  "proibicoes_gerais": {
    "html_css_js": {
      "descricao": "HTML, CSS, JavaScript tags e formata√ß√£o",
      "exemplos": ["<div>", "<p>", "<strong>", "<style>", "<script>", "class=", "id="],
      "regex_patterns": ["<[^>]+>", "class\\s*=", "id\\s*=", "style\\s*="],
      "severidade": "CRITICAL"
    },
    "emojis": {
      "descricao": "Emojis e s√≠mbolos Unicode decorativos",
      "exemplos": ["üòÄ", "üéâ", "‚ù§Ô∏è", "‚úÖ", "üî•"],
      "regex_patterns": ["[\\u{1F300}-\\u{1F9FF}]", "[\\u{2600}-\\u{26FF}]", "[\\u{2700}-\\u{27BF}]"],
      "severidade": "HIGH"
    },
    "claims_ranking": {
      "descricao": "Claims de posicionamento absoluto",
      "exemplos": ["#1", "n¬∫ 1", "n√∫mero 1", "melhor do Brasil", "√∫nico no mercado", "l√≠der absoluto"],
      "regex_patterns": ["#1", "n[√∫u]mero\\s+1", "melhor\\s+do\\s+(brasil|mundo)", "[√∫u]nico\\s+(no|do)\\s+mercado"],
      "severidade": "HIGH"
    },
    "claims_terapeuticos": {
      "descricao": "Claims terap√™uticos ou medicinais sem ANVISA",
      "exemplos": ["cura", "trata", "previne doen√ßas", "elimina infec√ß√µes", "anti-ansiedade terap√™utico"],
      "regex_patterns": ["cura[rs]?", "trata[mr]?\\s+(doen[√ßc]a|infec[√ßc][√£a]o)", "previne\\s+doen[√ßc]as", "anti-ansiedade", "terap[√™e]utico"],
      "severidade": "CRITICAL"
    },
    "superlativos_absolutos": {
      "descricao": "Superlativos absolutos n√£o comprovados",
      "exemplos": ["o mais barato", "o melhor", "totalmente perfeito", "100% garantido sem provas"],
      "regex_patterns": ["o\\s+mais\\s+(barato|caro|eficaz|r[√°a]pido)", "o\\s+melhor", "totalmente\\s+perfeito", "100%\\s+garantido"],
      "severidade": "MEDIUM"
    },
    "links_externos": {
      "descricao": "URLs e links externos",
      "exemplos": ["http://", "https://", "www.", ".com", ".br"],
      "regex_patterns": ["https?://", "www\\.", "\\.(com|br|net|org)(/|\\s|$)"],
      "severidade": "HIGH"
    },
    "precos_desatualizados": {
      "descricao": "Pre√ßos espec√≠ficos inline (usar apenas ranges ou contexto)",
      "exemplos": ["R$ 99,90", "por apenas 50 reais", "custa 120"],
      "regex_patterns": ["R\\$\\s*\\d+[,.]\\d+", "por\\s+apenas\\s+\\d+\\s+reais", "custa\\s+\\d+"],
      "severidade": "MEDIUM"
    }
  },

  "proibicoes_por_marketplace": {
    "mercadolivre": {
      "restricoes": [
        "N√£o incluir links externos para redes sociais ou outros sites",
        "N√£o fazer claims m√©dicos ou terap√™uticos sem comprova√ß√£o",
        "N√£o usar pre√ßos desatualizados ou promo√ß√µes expiradas",
        "N√£o usar HTML ou formata√ß√£o n√£o suportada",
        "N√£o fazer refer√™ncia a outros vendedores ou concorrentes",
        "N√£o usar linguagem discriminat√≥ria ou ofensiva"
      ],
      "limites": {
        "titulo_max_chars": 60,
        "descricao_max_chars": 50000,
        "imagens_max": 12,
        "videos_max": 1
      },
      "campos_obrigatorios": ["titulo", "categoria", "preco", "estoque", "imagens"],
      "recomendacoes": [
        "Usar Mercado Envio para melhor ranqueamento",
        "Adicionar EAN/GTIN quando dispon√≠vel",
        "Usar fotos de alta qualidade (m√≠nimo 800x800)",
        "Responder perguntas em at√© 24h"
      ]
    },
    "shopee": {
      "restricoes": [
        "N√£o fazer spam de keywords repetitivas",
        "N√£o reenviar an√∫ncios removidos sem corre√ß√µes",
        "N√£o usar imagens com texto excessivo",
        "N√£o fazer claims de desconto falsos",
        "N√£o violar direitos autorais de marcas",
        "N√£o usar termos enganosos de frete gr√°tis"
      ],
      "limites": {
        "titulo_max_chars": 120,
        "descricao_max_chars": 3000,
        "imagens_max": 9,
        "videos_max": 1
      },
      "campos_obrigatorios": ["titulo", "categoria", "preco", "estoque", "variacao"],
      "recomendacoes": [
        "Participar de campanhas promocionais",
        "Usar Shopee Garantia quando aplic√°vel",
        "Otimizar para mobile (90% dos usu√°rios)",
        "Usar v√≠deos de demonstra√ß√£o"
      ]
    },
    "magalu": {
      "restricoes": [
        "N√£o usar texto em imagens (apenas produto vis√≠vel)",
        "N√£o incluir logomarcas de outras empresas",
        "N√£o usar CAIXA ALTA excessivamente",
        "N√£o incluir links ou informa√ß√µes de contato nas imagens",
        "N√£o fazer claims sem documenta√ß√£o t√©cnica",
        "N√£o usar termos proibidos: 'original', 'r√©plica', 'importado' sem comprova√ß√£o"
      ],
      "limites": {
        "titulo_max_chars": 256,
        "descricao_max_chars": 4000,
        "imagens_max": 20,
        "videos_max": 1
      },
      "campos_obrigatorios": ["titulo", "categoria", "marca", "modelo", "ean", "ncm"],
      "recomendacoes": [
        "Preencher todos os atributos t√©cnicos",
        "Usar EAN obrigatoriamente",
        "Seguir padr√£o de t√≠tulo: Marca + Modelo + Caracter√≠sticas",
        "Adicionar manual e certifica√ß√µes quando dispon√≠vel"
      ]
    },
    "amazon": {
      "restricoes": [
        "N√£o fazer claims n√£o comprovados de qualidade",
        "N√£o usar linguagem sensacionalista ou superlativa sem base",
        "N√£o violar pol√≠ticas de conte√∫do proibido",
        "N√£o usar s√≠mbolos ou caracteres especiais no t√≠tulo",
        "N√£o incluir informa√ß√µes promocionais no t√≠tulo",
        "N√£o fazer refer√™ncia a Amazon ou outros sellers"
      ],
      "limites": {
        "titulo_max_chars": 200,
        "descricao_max_chars": 2000,
        "bullet_points": 5,
        "bullet_point_max_chars": 500,
        "imagens_max": 9,
        "videos_max": 1
      },
      "campos_obrigatorios": ["titulo", "marca", "bullet_points", "descricao", "imagens", "keywords_backend"],
      "recomendacoes": [
        "Usar A+ Content para descri√ß√µes enriquecidas",
        "Otimizar keywords backend (250 bytes)",
        "Seguir Amazon Style Guide rigorosamente",
        "Usar t√≠tulos formato: Marca + Modelo + Caracter√≠sticas + Especifica√ß√µes"
      ]
    }
  },

  "orgaos_reguladores": {
    "ANVISA": {
      "descricao": "Ag√™ncia Nacional de Vigil√¢ncia Sanit√°ria",
      "categorias_reguladas": ["alimentos", "suplementos", "cosm√©ticos", "medicamentos", "produtos de sa√∫de"],
      "restricoes": [
        "Claims de sa√∫de devem ser comprovados cientificamente",
        "Produtos notificados devem exibir n√∫mero ANVISA",
        "N√£o fazer alega√ß√µes terap√™uticas sem registro",
        "Seguir RDC espec√≠fica da categoria"
      ],
      "termos_proibidos": ["cura", "trata", "previne doen√ßas", "emagrece", "elimina gordura"],
      "termos_permitidos": ["ajuda a", "contribui para", "auxilia na", "favorece"],
      "links_referencia": [
        "https://www.gov.br/anvisa/pt-br/assuntos/regulamentacao"
      ]
    },
    "INMETRO": {
      "descricao": "Instituto Nacional de Metrologia, Qualidade e Tecnologia",
      "categorias_reguladas": ["eletroeletr√¥nicos", "brinquedos", "produtos infantis", "cal√ßados", "t√™xteis"],
      "restricoes": [
        "Produtos regulamentados devem ter selo INMETRO",
        "Especifica√ß√µes t√©cnicas devem ser verific√°veis",
        "Peso, dimens√µes e capacidades devem ser precisos",
        "Certifica√ß√µes devem ser v√°lidas e verific√°veis"
      ],
      "termos_recomendados": ["certificado INMETRO", "testado conforme norma", "atende requisitos t√©cnicos"]
    },
    "CONAR": {
      "descricao": "Conselho Nacional de Autorregulamenta√ß√£o Publicit√°ria",
      "principios": [
        "Publicidade deve ser legal, decente, honesta e verdadeira",
        "N√£o fazer publicidade enganosa ou abusiva",
        "Respeitar princ√≠pios da livre concorr√™ncia",
        "Proteger crian√ßas e adolescentes"
      ],
      "restricoes": [
        "N√£o usar compara√ß√µes diretas depreciativas",
        "N√£o explorar medo ou supersti√ß√£o",
        "N√£o usar apelo imperativo de consumo para crian√ßas",
        "N√£o fazer discrimina√ß√£o de qualquer tipo"
      ]
    }
  },

  "thresholds_qualidade": {
    "excellent": {
      "score_min": 0.90,
      "descricao": "Qualidade excelente - compliance 100%, persuas√£o alta",
      "criterios": [
        "Zero viola√ß√µes de compliance",
        "Todos os blocos completos e otimizados",
        "Persuasion score ‚â•0.85",
        "Keywords otimizados e deduplicados",
        "Descri√ß√£o ‚â•3.500 caracteres com storytelling forte"
      ]
    },
    "good": {
      "score_min": 0.75,
      "descricao": "Qualidade boa - compliance OK, persuas√£o adequada",
      "criterios": [
        "M√°ximo 1-2 warnings menores",
        "Blocos obrigat√≥rios completos",
        "Persuasion score ‚â•0.75",
        "Keywords adequados",
        "Descri√ß√£o ‚â•3.300 caracteres"
      ]
    },
    "fair": {
      "score_min": 0.60,
      "descricao": "Qualidade aceit√°vel - requer melhorias",
      "criterios": [
        "Algumas warnings de compliance",
        "Blocos obrigat√≥rios presentes mas n√£o otimizados",
        "Persuasion score ‚â•0.60",
        "Keywords b√°sicos",
        "Descri√ß√£o ‚â•3.300 caracteres mas sem storytelling"
      ]
    },
    "poor": {
      "score_min": 0.0,
      "descricao": "Qualidade baixa - requer refatora√ß√£o",
      "criterios": [
        "Viola√ß√µes cr√≠ticas de compliance",
        "Blocos incompletos",
        "Persuasion score <0.60",
        "Keywords insuficientes ou duplicados",
        "Descri√ß√£o <3.300 caracteres"
      ]
    }
  },

  "validacao_regex": {
    "titulo_valido": "^[A-Za-z√Ä-√ø0-9\\s\\-,]+$",
    "sem_html": "^(?!.*<[^>]+>).*$",
    "sem_emojis": "^(?![\\u{1F300}-\\u{1F9FF}\\u{2600}-\\u{26FF}\\u{2700}-\\u{27BF}]).*$",
    "comprimento_titulo": "^.{58,60}$",
    "sem_claims_numero_1": "^(?!.*(#1|n¬∫\\s*1|n√∫mero\\s*1)).*$"
  },

  "fallback_strategies": {
    "claim_problematico_detectado": {
      "acao": "Substituir por vers√£o neutra",
      "exemplo": "'cura ansiedade' ‚Üí 'ajuda a promover bem-estar'"
    },
    "impossivel_neutralizar": {
      "acao": "Remover claim e registrar em NOTAS_DE_FALLBACK",
      "exemplo": "'√∫nico produto certificado' ‚Üí remover, alertar falta de prova"
    },
    "remocao_quebra_copy": {
      "acao": "Alertar usu√°rio e solicitar input manual",
      "exemplo": "Remo√ß√£o de diferencial chave torna copy gen√©rica"
    },
    "confidence_score_baixo": {
      "acao": "Alertar no output e usar disclaimers",
      "threshold": 0.75,
      "exemplo": "Research confidence <0.75: incluir nota de cautela em NOTAS_DE_FALLBACK"
    }
  }
}
